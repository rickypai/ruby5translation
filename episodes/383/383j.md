### このエピソードはTop Ruby Jobsの提供でお送りします
> もし、あなたが高度なRubyを使う仕事、または上級Rubyistを探しているなら、Top Ruby Jobsを要チェックです。Top Ruby Jobsは、Rubyコミュニティ内で最高の仕事を提供する事に特化したウェブサイトです。

**Tony Winn**: 今日は2013年7月2日火曜日、あなたはRuby5を聴いています。僕はTony Winnです。

**Olivier Lacan**: 僕はOlivier Lacanです。

T: Ruby5はTop Ruby Jobsの提供でお送りします。

O: DaWandaがドイツのベルリンでWeb開発者を探しているみたいだ。

T: MeUndiesは、カリフォルニア州ロサンゼルスでRuby on Railsの上級開発者を探しているね。

O: そしてLister Technologiesは、カリフォルニア州サンフランシスコでRubyのの上級開発者を探している。

T: Top Ruby の仕事やTop Ruby Talentを探しているのであれば、toprubyjobs.comを要チェックです。

---

### One Liner Webserver
> Nobuyoshi NakadaはRubyを使用してカレントディレクトリ内でWebサーバを起動するための美しくシンプルな方法を示した。`ruby -run -e httpd . -p 5000`

T: 僕は昨日、Twitter上でAaron Patterson と Nobuyoshi Nakada(両者ともRuby core contributor)の会話を見たんだけど、NobuyoshiはRubyを使用してカレントディレクトリ内でWebサーバを起動するための美しくシンプルな方法をツィートしていた。

O: 君が言っているのは、噂になってたPythonのシングルラインスクリプトのようなもの？

T: うん、その通り。`ruby -run -e httpd . -p 5000` と呼ぶだけでWEBrickサーバ(Rubyの標準ライブラリ)を起動し、localhost:5000で動作して見ることができる。ディレクトリ内にindex.htmlがある場合、それがブラウザに表示されるんだ。

O: それはいい方法だね！特に静的なHTMLファイルをプロトタイピングする時になんかに。

T: その通りだね。

---

### より良いコントローラを書く
> Pivotal Labs の Damien Le Berrigaudは、オブジェクト指向の設計を促進するために、コントローラをテストする際にモックとスタブの使用を控える事についてこの週末興味深いブログ記事を書いた

T: ねえ、Olivier。この名前はどのやって言うの？

O: Damien Le Berrigaud。

T: Damien Le Berrigaud?

O: そう。

T: Pivotal Labos の Damien Le Berrigaud は、オブジェクト指向の設計を促進するために、コントローラをテストする際にモックとスタブの使用を控える事についてこの週末に興味深いブログ記事を書いた。

O: それは興味深いね。だってみんなコントローラーのテストをするより、UnitテストやIntegrationテストをする事にの賛成しているようだからね。彼はコントローラテストの話をしているんだよね？

T: そうだね。彼は "あやしい臭い"があるメソッド上のインスタンンスの使用を全てやめ、まずコントローラーのロジックをクラスのメソッドにリファクタリングし、その後サービスにリファクタリングする事を主張している。

O: それは最近僕達がCodeSchoolで行ってきたリファクタリングそのもののように聞こえるね。そして僕たちは、それがテストスピードやそれぞれの関心の分離の両方に非常に有益であることが発見したよね。

T: その通りだね。

---

### verified_double
> George Mendoza は自身が携わる"verified_double"について紹介している、それはRSpecと統合するコントラクトベースのモックライブラリです。

O: Tony、きみはモックは悪いものだとは思う？

T: モックは悪いものかだって？それはきみが何を意味するかによるね。危険で悪いものだと言う事もできるけど、それは言い過ぎなんじゃないかな。

O: だね、それは正しい回答だと思うよ。

T: 僕はモックはUnitテストを分離するのには非常に便利だと思う。だけどintegrationテストがモックしている場所にない場合、モックはあなたに誤った自信を与えかねない。

O: The sweet green liesだね。そこで、George Mendozaは自身が携わる"verified_double"について紹介している。それはRSpecと統合するモックライブラリであなたを誤ったマークで欺く事から防いでくれる。

T: それは"rspec-fire"にかなり似ているね。"rspec-fire"はモックメソッドがモックされるメソッドに対応していることを確認するために、オブジェクト上でそれを呼び出すんだ。これはどう違うの？

O: まずRSpecのシンタックスを使用して、スペック内にコントラクトを設定する。もしモックしているオブジェクトがこのコントラクトに沿った仕様を持っていない場合、警告をするんだ。

---

### モックライブラリの構築
> Ancient City RubyでAndy Lindemanのモックライブラリを構築する上での素晴らしいトークが発表された。

T: モックライブラリといえば、現在Ancient City Ruby 2013での Andy Lindemanの素晴らしいトークがYoutubeで見れる。

O: これは、僕が今まで見た中で最高のライブコーディングトークだよ。

T: うん、このトークはあなたがモックが何ができるか、またはあなたが本当に高速なred-green-refactorサイクルがいかに強力か、を明確に把握していない場合特に役に立つね。

---

### 私のgemは、Rails4で利用可能？
> Francesco Rodríguez と Florent Guilleuxは、ready4rails4.netを作成するためにチームを結成した。ready4rails4.netではgemがRails4と互換性があるかどうかを調べる事が出来る。

O: 今年の初め、僕は僕たちのみで使用する小さなプロジェクト内でRails4のベータ版を使い始めた。だけど僕は"haml-rails" gemを使用できなかった。それはRailsの古いバージョンにかなりの依存関係を持っていたからね。

T: そうだね。gemが使えないのはいつもイライラするよね。Railsの新しいバージョンが発表される時、多くの有名なgemは、それに追いつくためにしばらく時間がかかる。同じような事が "device" で起きていて、現在githubのbranchを使用しなきゃならないんだ。

O: Francesco RodríguezとFlorent Guilleuxのおかげで、我々はこれ以上苦痛を感じる必要がなくなった。彼らはready4rails4.netを作成するためにチームを結成した。ready4rails4.netではgemがRails4と互換性があるかどうかを調べる事ができるんだ。

T: また既存のGemfileを貼り付け、それぞれのgemの詳細情報を見ることも出来る。多くの人がRails4との互換性が特定のgemにある場合は注釈、ポイント、Pull Requestを提供しているね。

O: コミュニティサイトなので、あなたが作成したgemや使用しているgemが互換性のあるかどうか、またはすぐになる、などを自由に報告してほしい。

---

### 世界中のオープンソースへの貢献
> David Fischerは最近、GitHub’s Data Challengeで非常にクールなツールを提出した: それは2013年の最初の4ヶ月で最も活発な200のGitHubリポジトリのすべてのオープンソースコントリビューターを世界地図上に描画するものだ。

T: David Fischerは最近、GitHub’s Data Challengeで非常にクールなツールを提出した: それは2013年の最初の4ヶ月で最も活発な200のGitHubリポジトリのすべてのオープンソースコントリビューターを世界地図上に描画するものだ。

O: 非常に多くのオープンソースコントリビューターに影響する心温まるサイトだね。マップにズームしてどんなプロジェクトがコントリビュートされているか、どんなプロジェクトがあなたの近くの都市で行われているかを見る事が出来て非常にクールだよ。そして、誰が最もそれに貢献している人なのかを見る事が出来るんだ。
